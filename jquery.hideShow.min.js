/*!
 * jQuery Hide Show
 *
 * @description: Inserts an accessible buttons/links to hide and show sections of content
 * @source: https://github.com/nomensa/jquery.hide-show.git
 * @version: '0.2.1'
 *
 * @author: Nomensa
 * @license: licenced under MIT - http://opensource.org/licenses/mit-license.php
*/
(function(e,t,n,r){"use strict";function u(r,i){function a(){c();e(t).on("debouncedresize",function(){c();if(u.element.hasClass(u.options.breakpointClass)){u.destroy()}else{if(!u.element.parent().hasClass(u.options.wrapClass)){a()}}});if(!u.element.hasClass(u.options.breakpointClass)){var n=f(),r=l();u.element.wrap(r).before(n);u.element.addClass(u.options.containerClass);u.element.attr("id",u.options.containerId+o);if(u.options.state==="hidden"){u.element.addClass(u.options.hiddenClass).hide();u.element.attr("aria-expanded","false")}else{u.element.addClass(u.options.visibleClass).show();u.element.attr("aria-expanded","true")}e(n).click(function(){if(u.element.hasClass(u.options.visibleClass)){u.element.slideUp(u.options.speed);u.element.removeClass(u.options.visibleClass);u.element.addClass(u.options.hiddenClass);u.element.attr("aria-expanded","false");e(n).addClass(u.options.buttonCollapsedClass);e(n).removeClass(u.options.buttonExpandedClass);if(!u.options.triggerElement){e(n).html(u.options.showText)}}else{u.element.slideDown(u.options.speed);u.element.removeClass(u.options.hiddenClass);u.element.addClass(u.options.visibleClass);u.element.attr("aria-expanded","true");e(n).addClass(u.options.buttonExpandedClass);e(n).removeClass(u.options.buttonCollapsedClass);if(!u.options.triggerElement){e(n).html(u.options.hideText)}}return false});o++}}function f(){var t,r,i=u.options.containerId,s;if(u.options.triggerElement){if(u.options.triggerTargetEl){t=e(u.options.triggerTargetEl);t.attr({"class":u.options.buttonClass,id:u.options.buttonId+o,"aria-owns":i+o,"aria-controls":i+o});if(u.options.state==="hidden"){e(t).html(u.options.showText)}else{e(t).html(u.options.hideText)}}else{s=u.triggerElementOriginal.text();u.triggerElementOriginal.hide();if(u.options.triggerType==="anchor"){r=e('<a href="#" role="button" class="'+u.options.buttonClass+'">'+s+"</a>")}else{r=e('<button class="'+u.options.buttonClass+'" id="'+u.options.buttonId+o+'" aria-owns="'+i+o+'" aria-controls="'+i+o+'">'+s+"</button>")}}}else{if(u.options.triggerType==="anchor"){t=e(n.createElement("a"));t.attr({href:"#",role:"button"})}else{t=e(n.createElement("button"))}t.attr({"class":u.options.buttonClass,id:u.options.buttonId+o,"aria-owns":i+o,"aria-controls":i+o});if(u.options.state==="hidden"){e(t).html(u.options.showText)}else{e(t).html(u.options.hideText)}}if(u.options.state==="hidden"){e(t).addClass(u.options.buttonCollapsedClass)}else{e(t).addClass(u.options.buttonExpandedClass)}return t}function l(){var t=e(n.createElement("div"));t.attr("class",u.options.wrapClass);return t}function c(){var n=e(t).width();if(!u.options.continual){if(n>=u.options.breakpoint){u.element.addClass(u.options.breakpointClass)}else{u.element.removeClass(u.options.breakpointClass)}}}var u=this;u.element=e(r);u.options=e.extend({},s,i);u.triggerElementOriginal=u.element.find("."+u.options.triggerElementClass);a()}var i,s,o=0;i="hideShow";s={hiddenClass:"hidden",visibleClass:"visible",buttonClass:"js-hide-show-btn",buttonId:"btn-control-",buttonCollapsedClass:"js-hide-show-btn--collapsed",buttonExpandedClass:"js-hide-show-btn--expanded",speed:"slow",showText:"Show Content",hideText:"Hide Content",state:"shown",containerId:"content-",containerClass:"js-hide-show-content",wrapClass:"js-hide-show",triggerType:"button",triggerElement:false,triggerElementClass:"title",continual:true,breakpoint:768,breakpointClass:"mobile",triggerTargetEl:false};u.prototype.rebuild=function(){return new u(this.element,this.options)};u.prototype.destroy=function(){this.element.siblings("."+this.options.buttonClass).remove();e("."+this.options.wrapClass).find(this.element).unwrap();this.element.show();this.element.removeClass(this.options.containerClass);this.element.removeClass(this.options.hiddenClass);this.element.removeClass(this.options.visibleClass);this.element.removeAttr("aria-expanded");this.element.removeAttr("id");this.triggerElementOriginal.show()};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new u(this,t))}})}})(jQuery,window,document)