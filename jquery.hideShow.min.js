/*!
 * jQuery Hide Show
 *
 * @description: Inserts an accessible buttons/links to hide and show sections of content
 * @source: https://github.com/nomensa/jquery.hide-show.git
 * @version: '1.1.0'
 *
 * @author: Nomensa
 * @license: licenced under MIT - http://opensource.org/licenses/mit-license.php
*/
!function(a,b,c){"use strict";function d(b,d){function e(){if(k.triggerElement=h(),k.element.addClass(k.options.containerClass).attr("id","content-"+g),null!==k.options.insertTriggerLocation&&k.element.attr("tabindex","-1"),"hidden"===k.options.state?(k.element.addClass(k.options.containerCollapsedClass).attr("aria-hidden","true").hide(),k.triggerElement.attr("aria-expanded","false")):(k.element.addClass(k.options.containerExpandedClass).attr("aria-hidden","false").show(),k.triggerElement.attr("aria-expanded","true")),null===k.options.insertTriggerLocation)k.element.before(k.triggerElement);else switch(k.options.insertMethod){case"after":a(k.options.insertTriggerLocation).after(k.triggerElement);break;case"append":a(k.options.insertTriggerLocation).append(k.triggerElement);break;case"prepend":a(k.options.insertTriggerLocation).prepend(k.triggerElement);break;default:a(k.options.insertTriggerLocation).before(k.triggerElement)}g++,k.options.callbackCreate()}function h(){var b,d="content-";return null===k.options.triggerElementTarget?(b=a(c.createElement("button")),b.attr({"aria-controls":d+g,"class":k.options.buttonClass}),a(b).html("hidden"===k.options.state?k.options.showText:k.options.hideText),a(b).click(i(k))):(b=a(k.options.triggerElementTarget),b.attr({"aria-controls":d+g,"class":k.options.buttonClass,role:"button",tabindex:"0"}),a(b).click(i(k)).keydown(j(k))),a(b).addClass("hidden"===k.options.state?k.options.buttonCollapsedClass:k.options.buttonExpandedClass),b}function i(){return k.handleClick=function(a){a.preventDefault(),k.toggle()},k.handleClick}function j(){return k.handleKeyDown=function(a){(13===a.keyCode||32===a.keyCode)&&k.toggle()},k.handleKeyDown}var k=this;k.element=a(b),k.options=a.extend({},f,d),e()}var e,f,g=0;e="hideShow",f={buttonClass:"js-hide-show_btn",buttonCollapsedClass:"js-hide-show_btn--collapsed",buttonExpandedClass:"js-hide-show_btn--expanded",callbackBeforeClose:function(){},callbackBeforeOpen:function(){},callbackClosed:function(){},callbackCreate:function(){},callbackDestroy:function(){},callbackOpened:function(){},containerClass:"js-hide-show_content",containerCollapsedClass:"js-hide-show_content--collapsed",containerExpandedClass:"js-hide-show_content--expanded",hideText:"Hide Content",insertMethod:"before",insertTriggerLocation:null,showText:"Show Content",speed:"slow",state:"shown",triggerElementTarget:null},d.prototype.toggle=function(){"true"===this.element.attr("aria-hidden")?this.open():this.close()},d.prototype.open=function(){var a=this;a.options.callbackBeforeOpen(),a.element.addClass(this.options.containerExpandedClass).attr("aria-hidden","false").removeClass(this.options.containerCollapsedClass).slideDown(this.options.speed,function(){null!==a.options.insertTriggerLocation&&a.element.focus()}),a.triggerElement.addClass(this.options.buttonExpandedClass).attr("aria-expanded","true").removeClass(this.options.buttonCollapsedClass),null===a.options.triggerElementTarget&&a.triggerElement.html(this.options.hideText),a.options.callbackOpened()},d.prototype.close=function(){var a=this;a.options.callbackBeforeClose(),a.element.addClass(this.options.containerCollapsedClass).attr("aria-hidden","true").removeClass(this.options.containerExpandedClass).slideUp(this.options.speed),a.triggerElement.addClass(this.options.buttonCollapsedClass).attr("aria-expanded","false").removeClass(this.options.buttonExpandedClass),null===a.options.triggerElementTarget&&a.triggerElement.html(this.options.showText),a.options.callbackClosed()},d.prototype.rebuild=function(){return new d(this.element,this.options)},d.prototype.destroy=function(){var b=this.element.attr("id");this.element.removeAttr("aria-hidden id style").removeClass(this.options.containerClass).removeClass(this.options.containerCollapsedClass).removeClass(this.options.containerExpandedClass),null===this.options.triggerElementTarget?(this.triggerElement.remove(),a('[aria-controls="'+b+'"]').remove()):this.triggerElement.off("click").removeAttr("aria-controls aria-expanded role tabindex").removeClass(this.options.buttonClass).removeClass(this.options.buttonCollapsedClass).removeClass(this.options.buttonExpandedClass),this.options.callbackDestroy()},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);
